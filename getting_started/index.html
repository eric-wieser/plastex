<!DOCTYPE html>
<html lang="en">
<head>
<script>
  MathJax = { 
    tex: {
		    inlineMath: [['\\(','\\)']]
	} }
</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>
<meta name="generator" content="plasTeX" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Getting started with plasTeX: Getting started with plasTeX</title>
<link rel="stylesheet" href="styles/theme-white.css" />
<link rel="stylesheet" href="styles/pygments.css" />
<link rel="stylesheet" href="styles/getting_started.css" />
</head>

<body>

<div class="wrapper">

<div class="content">
<div class="content-wrapper">


<div class="main-text">
<div class="titlepage">
<h1>Getting started with plasTeX</h1>
</div>
<h1 id="a0000000002">1 Installation</h1>
<p>You will need a decent python to use plasTeX, at least python 3.6 (note that python versions older than 3.7 are no longer supported by the python software foundation). You can install plasTeX like any other python package, using <code class="lstlinline">pip install plasTeX</code> (or <code class="lstlinline">pip3</code> or <code class="lstlinline">pipx</code> depending on your setup). </p>
<p>If you want a cutting-edge version, you can download the most recent code using git with </p>
<div class="highlight"><pre><span></span>git clone https://github.com/plastex/plastex.git
</pre></div>

<p> (or by hand at <a href ="https://github.com/plastex/plastex/zipball/master">this url</a>) and then install it by running <code class="lstlinline">python3 setup.py</code> in the plastex folder. </p>
<h1 id="a0000000003">2 HTML rendering</h1>
<h2 id="a0000000004">2.1 Basic rendering</h2>
<p>While plasTeX is a general purpose LaTeX document processing framework, its most common use is to convert LaTeX documents to HTML web documents. If your document <code class="verbatim">my_doc.tex</code> does not use any complicated LaTeX package, you can simply convert it by running <code class="verbatim">plastex my_doc.tex</code> </p>
<p>This will create a folder <code class="verbatim">my_doc</code> containing an HTML version of your document. </p>
<p>There are many command line options you can use to configure the way your document is rendered. The most important one is probably <code class="lstlinline">--split-level<span class="o">=</span>N</code> which specifies the highest section level that generates a new file. Each section in a LaTeX document has a number associated with its hierarchical level. These levels are -2 for the document, -1 for parts, 0 for chapters, 1 for sections, 2 for subsections, 3 for subsubsections, 4 for paragraphs, and 5 for subparagraphs. A new file will be generated for every section in the hierarchy with a value less than or equal to the value of this option. This means that for the default value of 2, files will be generated for the document, parts, chapters, sections, and subsections. </p>
<p>You can also remove the table of contents that appears on each page using <code class="lstlinline">--no-display-toc</code>. If you keep this table of content you can use the option <code class="lstlinline">--toc-depth<span class="o">=</span>N</code> which specifies the number of levels to include. </p>
<p>If removing the table of contents is not sober enough, you can use the option <code class="lstlinline">--theme<span class="o">=</span>minimal</code> to get a bare-bone unstyled HTML file, or even <code class="lstlinline">--theme<span class="o">=</span>fragment</code> to get the content without any header, for later inclusion into a complete HTML document. </p>
<p>They are dozens of other options described briefly when running <code class="lstlinline">plastex --help</code> and with many more details in the <a href ="http://plastex.github.io/plastex/plastex/sec-command-line.html">documentation</a>. Typing many command lines options is pretty boring so be sure to read how to put them in a <a href ="http://plastex.github.io/plastex/plastex/sec-general-options.html">configuration file</a>. </p>
<h2 id="a0000000005">2.2 Rendering both in HTML and pdf</h2>
<p>If your document is meant to be rendered only by plasTeX then things are simple, but this is not the most common case. In this section we will assume that you want to use both plasTeX and a pdf-producing compiler such as <code class="lstlinline">pdflatex</code>, <code class="lstlinline">xelatex</code> or <code class="lstlinline">lualatex</code>. </p>
<p>If your document uses LaTeX packages that are not implemented in plasTeX, various things can happen. If you are lucky and your package is simple, plasTeX will manage to load it from its TeX source. If not, then the first thing to consider is whether this complicated package makes sense for the HTML version. Many sophisticated LaTeX packages aim to produce a beautiful pdf file in a way that wouldn’t make sense on a web page. In this case, the easiest solution is to have two different preambles. A basic file layout is to have a file <code class="lstlinline">content.tex</code> containing the actual content of your document and is imported by two small TeX files, <code class="lstlinline">print.tex</code> for compilation by a pdf producing compiler and <code class="lstlinline">web.tex</code> for compilation by plasTeX. </p>
<div class="highlight"><pre><span></span><span class="c">% Inside file print.tex</span>

<span class="k">\documentclass</span><span class="nb">{</span>article<span class="nb">}</span>

<span class="k">\usepackage</span><span class="nb">{</span>fancy<span class="nb">_</span>complicated<span class="nb">}</span>

<span class="k">\newcommand</span><span class="nb">{</span><span class="k">\stuff</span><span class="nb">}{</span>horrible hack torturing TeX boxes<span class="nb">}</span>

<span class="k">\begin</span><span class="nb">{</span>document<span class="nb">}</span>
  <span class="k">\input</span><span class="nb">{</span>content.tex<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>document<span class="nb">}</span>
</pre></div>

<p>And then </p>
<div class="highlight"><pre><span></span><span class="c">% Inside file web.tex</span>

<span class="k">\documentclass</span><span class="nb">{</span>article<span class="nb">}</span>

<span class="k">\newcommand</span><span class="nb">{</span><span class="k">\stuff</span><span class="nb">}{</span>simple version for the web<span class="nb">}</span>

<span class="k">\begin</span><span class="nb">{</span>document<span class="nb">}</span>
  <span class="k">\input</span><span class="nb">{</span>content.tex<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>document<span class="nb">}</span>
</pre></div>

<p>While this setup is the most versatile, you can try to keep everything in the same file by using the <code class="lstlinline">ifplastex</code> special conditional. In your TeX file you can include </p>
<div class="highlight"><pre><span></span><span class="k">\newif\ifplastex</span>
<span class="k">\plastexfalse</span>
</pre></div>

<p> This declares a new conditional <code class="verbatim">\ifplastex</code>. The second line sets it to false but will be ignored by plasTeX because it recognizes this as a special case. You can then write: </p>
<div class="highlight"><pre><span></span><span class="k">\ifplastex</span>
  Some code to be parsed by plasTeX
<span class="k">\else</span>
  Some code for every other TeX compiler
<span class="k">\fi</span>
</pre></div>

<p>If the above two methods are not enough then you probably want to implement some LaTeX packages as python packages for use by plasTeX. This is beyond the scope of this tutorial but is <a href ="http://plastex.github.io/plastex/plastex/sec-macros.html">covered in the documentation</a>. </p>
<h2 id="a0000000006">2.3 Changing the way things are rendered</h2>
<p>There are many ways to influence the way plasTeX renders a LaTeX document to a HTML file beyond what the command line options allow to do. The easiest way is to add your own CSS file and tell plasTeX about it using the <code class="lstlinline">extra-css</code> option, running for instance <code class="lstlinline">plastex --extra-css my_style.css my_document.tex</code>. </p>
<p>Although CSS tweaks can completely change the appearance of a HTML document, sometimes you also need to change the actual HTML code. The default HTML5 render in plasTeX uses the <a href ="https://jinja.palletsprojects.com/en/3.1.x/">Jinja</a> templating language. For a very simple example, consider how the default renderer handle a quote environment. The T<sub style="text-transform:uppercase; margin-left:-0.2em">e</sub>X code </p>
<div class="highlight"><pre><span></span><span class="k">\begin</span><span class="nb">{</span>quote<span class="nb">}</span>
  Cogito ergo sum.
<span class="k">\end</span><span class="nb">{</span>quote<span class="nb">}</span>
</pre></div>

<p> produces the following HTML: </p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">blockquote</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;quote&quot;</span><span class="p">&gt;</span>Cogito ergo sum.<span class="p">&lt;/</span><span class="nt">blockquote</span><span class="p">&gt;</span>
</pre></div>

<p> Let’s say you don’t like the blockquote tag and want to replace it with a div tag. During parsing by plasTeX, the quote environment will be turned into an instance of the Python <code class="lstlinline">quote</code> class. Searching for <code class="lstlinline">quote</code> in the template folder <a href ="https://github.com/plastex/plastex/tree/master/plasTeX/Renderers/HTML5">plasTeX/Renderers/HTML5</a> we find a file <code class="lstlinline">Quotations.jinja2s</code> containing: </p>
<div class="highlight"><pre><span></span>name: quote
<span class="p">&lt;</span><span class="nt">blockquote</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;quote&quot;</span><span class="p">&gt;</span>{{ obj }}<span class="p">&lt;/</span><span class="nt">blockquote</span><span class="p">&gt;</span>

name: quotation
<span class="p">&lt;</span><span class="nt">blockquote</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;quotation&quot;</span><span class="p">&gt;</span>{{ obj }}<span class="p">&lt;/</span><span class="nt">blockquote</span><span class="p">&gt;</span>

name: verse
<span class="p">&lt;</span><span class="nt">blockquote</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;verse&quot;</span><span class="p">&gt;</span>{{ obj }}<span class="p">&lt;/</span><span class="nt">blockquote</span><span class="p">&gt;</span>
</pre></div>

<p> The only Jinja syntax here is the <code class="lstlinline"><span class="o">{{</span> obj <span class="o">}}</span></code> which tells the template engine to render the <code class="lstlinline">obj</code> variable, here our <code class="lstlinline">quote</code> instance. Say we would prefer a good old div tag. We can create a modified version of this template file and put it inside some folder, say <code class="lstlinline">my_templates</code> and then run </p>
<div class="highlight"><pre><span></span>plastex --extra-templates<span class="o">=</span>my_templates my_doc.tex
</pre></div>

<p> Note that paths in this option are relative to the current directory. </p>
<p>You can also use this option to create a new theme. For instance you can create a file <code class="lstlinline">my_templates/Themes/my_theme/default-layout.jinja2</code> taking inspiration from the <a href ="https://github.com/plastex/plastex/tree/master/plasTeX/Renderers/HTML5/Themes/default">minimal theme</a> or the <a href ="https://github.com/plastex/plastex/tree/master/plasTeX/Renderers/HTML5/Themes/default">default theme</a> depending on whether you prefer starting with a mostly blank slate or tweak the full blown default theme. You can then run </p>
<div class="highlight"><pre><span></span>plastex --extra-templates<span class="o">=</span>my_templates --theme<span class="o">=</span>my_theme my_doc.tex
</pre></div>

<p> to use your new layout. </p>

</div> <!--main-text -->
</div> <!-- content-wrapper -->
</div> <!-- content -->
</div> <!-- wrapper -->

<nav class="prev_up_next">
</nav>

<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/plastex.js"></script>
<script type="text/javascript" src="js/svgxuse.js"></script>
</body>
</html>